(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,a){e.exports=a.p+"static/media/pizza-logo.98d5e87a.svg"},53:function(e,t,a){e.exports=a.p+"static/media/remove-icon.4db19185.svg"},54:function(e,t,a){e.exports=a.p+"static/media/food-delivery.a91ca631.svg"},55:function(e,t,a){e.exports=a.p+"static/media/loader.89eaf408.svg"},62:function(e,t,a){e.exports=a(96)},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),i=a(9),l=a(32),m=a(7),u=a(51),o=a(14),s=a(16),E=function(e){return function(t){t({type:"SET_MENU",menu:e})}},d=a(19),f=function(e){return function(t){t({type:"SET_ITEM_TO_CART",id:e})}},b=function(e){return function(t){t({type:"REMOVE_ITEM_FROM_CART",id:e})}},p=function(e){return function(t){t({type:"INCREASE_ITEM_QUANTITY",id:e})}},v=function(e){return function(t){t({type:"DECREASE_ITEM_QUANTITY",id:e})}},O=function(e){return function(t){t({type:"CLEAR_CART",id:e})}},_=Object(m.c)({menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MENU":var a={};for(var n in t.menu)a[Object.keys(t.menu[n])[0]]=Object.values(t.menu[n])[0];return Object(s.a)({},e,a);default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEM_TO_CART":return Object(s.a)({},e,Object(d.a)({},t.id,1));case"REMOVE_ITEM_FROM_CART":var a=Object(s.a)({},e);return delete a[t.id],a;case"INCREASE_ITEM_QUANTITY":return Object(s.a)({},e,Object(d.a)({},t.id,++e[t.id]));case"DECREASE_ITEM_QUANTITY":var n=e[t.id]-1;if(n>0)return Object(s.a)({},e,Object(d.a)({},t.id,n));var c=Object(s.a)({},e);return delete c[t.id],c;case"CLEAR_CART":return{};default:return e}}}),j=o.a(),h=[u.a,Object(l.routerMiddleware)(j)],N=m.d.apply(void 0,[m.a.apply(void 0,h)].concat([])),y=Object(m.e)(Object(l.connectRouter)(j)(_),{menu:{pizzas:[],drinks:[]},cart:{}},N),g=a(20),k=(a(84),function(e){return fetch("".concat("http://localhost:8000/").concat(e)).then(function(e){return e.json()})}),x=a(17),T=(a(85),a(86),Object(i.connect)(function(e){return{cart:e.cart}})(function(e){var t=e.cart,a=0;for(var r in t)a+=t[r];var i=a>0?c.a.createElement(n.Fragment,null,c.a.createElement("span",{className:"header-basket-button__divider"}),c.a.createElement("span",{className:"header-basket-button__quantity"},a.toString())):null;return c.a.createElement("div",{className:"header-basket-wrapper"},c.a.createElement(x.a,{className:"header-basket-button",to:"/cart"},c.a.createElement("span",null,"Cart"),i))})),C=a(52),I=a.n(C),R=function(e){return c.a.createElement("header",{className:"header"},c.a.createElement(x.a,{to:"/",className:"header-logo"},c.a.createElement("img",{className:"header-logo__img",src:I.a,alt:"Pizza delivery logo"}),c.a.createElement("h1",{className:"header-logo__title"},"Pizza Time!")),c.a.createElement(T,null))},M=(a(87),a(124)),S=a(27),A=(a(88),a(89),Object(i.connect)(function(e){return{cart:e.cart}},function(e){return Object(m.b)({increaseItemQuantity:p,decreaseItemQuantity:v},e)})(function(e){var t=e.id,a=e.cart,n=e.increaseItemQuantity,r=e.decreaseItemQuantity;return c.a.createElement("div",{className:"cart-stepper"},c.a.createElement("button",{onClick:function(){return r(t)}},"-"),c.a.createElement("span",null,a[t]),c.a.createElement("button",{onClick:function(){return n(t)}},"+"))})),w=Object(i.connect)(function(e){return{cart:e.cart}},function(e){return Object(m.b)({setItemToCart:f},e)})(function(e){var t=e.cart,a=e.setItemToCart,r=e.item,i=r.name,l=r.image,m=r.description,u=r.priceDollar,o=r.priceEuro,s=r.id,E=Object(n.useState)(!1),d=Object(S.a)(E,2),f=d[0],b=d[1],p=function(e){return Object.keys(t).includes(e.toString())}(s)?c.a.createElement(A,{id:s}):c.a.createElement("button",{onClick:function(){return a(s)},onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},className:"menu-item__to-basket"},"Choose");return c.a.createElement("div",{className:"menu-item"},c.a.createElement("img",{className:"menu-item__img".concat(f?" menu-item__img_hovered":""),src:l}),c.a.createElement("h2",{className:"menu-item__title"},i),c.a.createElement("span",{className:"menu-item__description"},m),c.a.createElement("div",{className:"menu-item__bottom"},c.a.createElement("span",{className:"menu-item__price"},u,"$ | ",o,"\u20ac"),p))}),z=function(e){var t=e.title,a=e.items.map(function(e){return c.a.createElement(M.a,{className:"menu-item-wrapper",item:!0,xs:12,sm:6,md:4,lg:3,key:e.id},c.a.createElement(w,{item:e}))});return c.a.createElement("section",{className:"menu-section"},c.a.createElement("h1",{className:"menu-section-title"},t),c.a.createElement(M.a,{container:!0,spacing:3},a))},F=Object(i.connect)(function(e){return{menu:e.menu}},function(e){return Object(m.b)({},e)})(function(e){var t=e.menu,a=Object.entries(t).map(function(e){return c.a.createElement(z,{title:e[0],items:e[1],key:e[0]})});return c.a.createElement("div",null,a)}),Q=a(43),Y=(a(90),a(127)),D=(a(91),a(53)),$=a.n(D),U=a(130),q=Object(i.connect)(function(e){return{}},function(e){return Object(m.b)({removeItemFromCart:b},e)})(function(e){var t=e.item,a=e.quantity,n=e.removeItemFromCart,r=t.name,i=t.image,l=t.priceDollar,m=t.priceEuro,u=t.id,o=function(e,t){return(parseInt(e)*parseFloat(t)).toFixed(1).replace(/\.0+$/,"")};return c.a.createElement(M.a,{className:"cart-item",container:!0},c.a.createElement(M.a,{item:!0,xs:12,sm:6},c.a.createElement(U.a,{display:"flex",alignItems:"center"},c.a.createElement("img",{className:"cart-item__img",src:i,alt:r}),c.a.createElement("span",{className:"cart-item__title"},r))),c.a.createElement(M.a,{item:!0,xs:12,sm:3},c.a.createElement(U.a,{height:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},c.a.createElement(A,{id:u}))),c.a.createElement(M.a,{item:!0,xs:12,sm:3},c.a.createElement(U.a,{height:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},c.a.createElement("div",{className:"cart-item-price"},o(a,l),"$ | ",o(a,m),"\u20ac"),c.a.createElement("button",{onClick:function(){return n(u)},className:"cart-item-remove"},c.a.createElement("img",{src:$.a,alt:"remove item"})))))}),W=(a(92),a(54)),B=a.n(W),P=function(){return c.a.createElement(M.a,{className:"delivery-item",container:!0},c.a.createElement(M.a,{item:!0,xs:12,sm:6},c.a.createElement(U.a,{display:"flex",alignItems:"center"},c.a.createElement("img",{className:"delivery-item__img",src:B.a,alt:"delivery"}),c.a.createElement("span",{className:"delivery-item__title"},"Delivery"))),c.a.createElement(M.a,{item:!0,xs:12,sm:6},c.a.createElement(U.a,{height:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},c.a.createElement("div",{className:"delivery-item-price"},"10$ | 8.9\u20ac"))))},L=Object(i.connect)(function(e){return{cart:e.cart,menu:e.menu}},function(e){return Object(m.b)({},e)})(function(e){var t=e.cart,a=e.menu,n=10,r=8.9,i=function(e,t){return parseInt(e)*parseFloat(t)},l=Object.keys(t).map(function(e){var l=t[e],m=[].concat(Object(Q.a)(a.drinks),Object(Q.a)(a.pizzas)).find(function(t){return t.id==e});return n+=i(l,m.priceDollar),r+=i(l,m.priceEuro),c.a.createElement(q,{item:m,key:m.id,quantity:l})}),m=c.a.createElement(Y.a,{maxWidth:"md"},c.a.createElement("h1",{className:"cart-title"},"Your cart"),c.a.createElement("div",{className:"cart-list"},l,c.a.createElement(P,null)),c.a.createElement("div",{className:"cart-bottom"},c.a.createElement(U.a,{display:"flex",justifyContent:"flex-end",py:3},c.a.createElement("div",{className:"cart-total"},c.a.createElement("span",{className:"cart-total__label"},"Order price:"),c.a.createElement("span",{className:"cart-total__quantity"},n.toFixed(1).replace(/\.0+$/,""),"$ | ",r.toFixed(1).replace(/\.0+$/,""),"\u20ac"))),c.a.createElement(U.a,{display:"flex",justifyContent:"space-between"},c.a.createElement(x.a,{to:"/",className:"cart-btn cart-btn_back-menu"},"Back to menu"),c.a.createElement(x.a,{to:"/checkout",className:"cart-btn cart-btn_make-order"},"Make the order")))),u=c.a.createElement(Y.a,{maxWidth:"md"},c.a.createElement("h1",{className:"cart-title"},"Your cart is empty :("),c.a.createElement(x.a,{to:"/",className:"cart-btn cart-btn_back-menu"},"Back to menu"));return Object.keys(t).length>0?m:u}),J=(a(93),a(128)),V=a(55),G=a.n(V),H=Object(i.connect)(function(e){return{cart:e.cart}},function(e){return Object(m.b)({clearCart:O},e)})(function(e){var t=e.clearCart,a=e.cart;Object(n.useEffect)(function(){0===Object.keys(a).length&&j.push("/cart")},[]);var r=Object(n.useState)(!1),i=Object(S.a)(r,2),l=i[0],m=i[1],u=Object(n.useState)(!1),o=Object(S.a)(u,2),E=o[0],f=o[1],b=Object(n.useState)({address:"",name:"",surname:""}),p=Object(S.a)(b,2),v=p[0],O=p[1],_=Object(n.useState)({address:!1,name:!1,surname:!1}),h=Object(S.a)(_,2),N=h[0],y=h[1],g=function(e){O(Object(s.a)({},v,Object(d.a)({},e.target.name,e.target.value))),y(Object(s.a)({},N,Object(d.a)({},e.target.name,!(e.target.value.length>0))))},k=["address","name","surname"].map(function(e){return c.a.createElement(U.a,{mb:3,key:e},c.a.createElement(J.a,{value:v[e]||"",error:N[e],name:e,fullWidth:!0,label:"Your ".concat(e),variant:"outlined",helperText:"".concat(N[e]?"Enter your ".concat(e):""),onChange:g}))}),T=c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=function(e){y(function(t){return Object(s.a)({},t,Object(d.a)({},e,!v[e]))})};for(var n in N)a(n);v.address&&v.name&&v.surname&&(f(!0),setTimeout(function(){f(!1),m(!0),t()},2e3))}},c.a.createElement("h2",null,"Fill the form to confirm the order."),k,c.a.createElement("button",{className:"checkout-button"},"\u0421onfirm the order")),C=c.a.createElement(n.Fragment,null,c.a.createElement("h2",{className:"success-title"},"Your order has been received! Bon appetit!"),c.a.createElement(x.a,{to:"/",className:"cart-btn cart-btn_back-menu"},"Back to menu")),I=c.a.createElement(U.a,{className:"loader-wrapper"},c.a.createElement("img",{className:"loader",src:G.a,alt:"loader"}));return c.a.createElement(Y.a,{maxWidth:"sm"},l?C:E?I:T)}),K=Object(i.connect)(function(e){return{cart:e.cart}},function(e){return Object(m.b)({setMenu:E},e)})(function(e){var t=e.setMenu;e.cart;return Object(n.useEffect)(function(){Promise.all([k("pizzas"),k("drinks")]).then(function(e){return t(e)})},[]),c.a.createElement("div",null,c.a.createElement(Y.a,{className:"root",maxWidth:"lg"},c.a.createElement(R,null),c.a.createElement("div",{className:"content"},c.a.createElement(g.Switch,null,c.a.createElement(g.Route,{exact:!0,path:"/"},c.a.createElement(F,null)),c.a.createElement(g.Route,{exact:!0,path:"/cart"},c.a.createElement(L,null)),c.a.createElement(g.Route,{exact:!0,path:"/checkout"},c.a.createElement(H,null))))))}),X=(a(94),a(95),document.querySelector("#root"));Object(r.render)(c.a.createElement(i.Provider,{store:y},c.a.createElement(l.ConnectedRouter,{history:j},c.a.createElement(K,null))),X)}},[[62,1,2]]]);
//# sourceMappingURL=main.ea2413e9.chunk.js.map